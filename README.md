# Node.js Security

This repo is for practicing the Node.js security practices mentioned in this [course](https://www.linkedin.com/learning/node-js-security)

## Maintain Package Dependencies

Let's explore what commands are available to maintain our dependencies, therefore making our application more secure. This is one of the biggest item you need to constantly work on in order to properly secure applications built with node.js. There are reasons why dependencies are updated,and sometimes the cause of their update is due to recently found vulnerabilities in the code. So since we rely on these packages, we need to make sure our application is also up to date, and therefore safer for our own users. Let's explore a few commands available to us. So let's bring up the terminal. Let's click on View, Integrated Terminal. And the first thing I want you to do is do an npm-v to check the version. You need to make sure to be at least at version six in order to use some of the commands that I'm gonna show you. So the first command that I'd like to use is npm audit. And this will go through all the dependencies that are installed in the node modules, and check if there's any issues. In this case, there is zero vulnerabilities. So we're good. Now the next one we need to do is to check if there's any packages that are outdated, so do npm outdated. And right now, the only package that is outdated is mongoose. So the latest version is 5.2.5, we're actually installed at 4.13.14, so what we're gonna do is update it to 5.2.5. Now there's two ways to update. One is to do npm update mongoose at the version you want. So 5.2.5, but this is working on and off, so from my experience, it's always better to do install. So I always recommend install as opposed to update. By doing this, npm install mongoose 5.2.5, this is going to install and save the version that we've installed in our package.json. So if we check here, now mongoose should be at the right version. So let's take a look, 5.2.5, we're good to go. Perfect. So the next thing we need to do, and this is purely from this particular project perspective, if you wanna continue working with this project, and want to leverage it for your own, make sure that the babel presetis at environment and not es2015, that has been deprecated. So what we're gonna do it actually do that right now, and make sure we are up to date. So what I'm gonna do is npm uninstall, and this is good practice when you want to uninstall things and so on, so forth. So uninstall babel preset es2015, save dev. And this will remove it from here, and then what we need to do is install the babel preset ENV for environment, let's make sure we install and not uninstall it. And save it in the dev as well. So now we got it here, we need to change also the babel RC to environment. Save that, and we're good to go. Now if we start the actual project here, you're gonna get a little warning that something has been deprecated. I'm gonna wait for it to show, so it says here that current URL string parser is deprecated, and will be removed in a future version. So right now you don't need to do anything about that, but the one thing that actually makes the application crash is the use mongoo client option is no longer necessary mongoose 5.X. So we need to remove it, so let's go into the index here, and remove this guy here. So basically what you need to do is removeall the options in this particular block of code here, so from line 11 where you have the comma, all the way down to the closing curly brace here. Like so. And now the only thing we should see is that deprecated warning here. So this is something that we're not gonna do in this course. Okay, so this is how you install, uninstall,update your dependencies, and do some audit on them. So let's move on.
